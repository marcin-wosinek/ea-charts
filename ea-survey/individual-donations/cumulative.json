{
    "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
    "title": "Cumulative donations",
    "width": 800,
    "height": 300,
    "data": {
      "url": "./indiidual donations.csv",
      "format": {
        "parse": {
          "Donation": "number"
        }
      }
    },
    "mark": {
      "type": "line",
      "interpolate": "step"
    },
    "transform": [{
      "sort": [{"field": "Donation"}],
      "window": [{"op": "sum", "field": "Donation", "as": "cumulative_count"}]
    }],
    "encoding": {
      "x": {
        "field": "Donation",
        "type": "quantitative",
        "scale": {
          "type": "log"
        }
      },
      "y": {
        "field": "cumulative_count",
        "type": "quantitative"
      }
    }
  }
