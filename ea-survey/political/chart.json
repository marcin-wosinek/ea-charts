{
  "title": "Donation per political identity",
  "width": 300,
  "height": 500,
  "data": {
    "url": "../data/political.csv",
    "format": {
      "parse": {
        "donate_2017_c": "number"
      }
    }
  },
  "transform": [
    {
      "aggregate": [
        {
          "op": "mean",
          "field": "donate_2017_c",
          "as": "Mean donation"
        },
        {
          "op": "count",
          "field": "donate_2017_c",
          "as": "Count"
        },
        {
          "op": "sum",
          "field": "donate_2017_c",
          "as": "Total donate"
        }
      ],
      "groupby": ["politics"]
    }
  ],
  "repeat": {
    "column": ["Count", "Mean donation", "Total donate"]
  },
  "spec": {
  "mark": "bar",
  "encoding": {
    "x": {
      "field": {
        "repeat": "column"
      },
      "type": "quantitative",
      "format": ".0f"
    },
    "y": {
      "field": "politics",
      "type": "nominal",
      "scale": {
        "domain": [
          "Libertarian",
          "Right",
          "Center right",
          "Center",
          "Center left",
          "Left",
          "NA",
          "Prefer not to answer",
          "Other"
        ]
      }
    }
  }
  }
}
